demo()
Hershey
graphics
graphics()
plotmath
require(ggplot2)
require(gridExtra)
raw_totsrA   <- read.table("~/Github/gemcarbon_data/raw_data_ingembd/eltr_rsoil_total_feb17.csv", sep=",", header=T)
unique(raw_totsrA$plot_code)
raw_totsrA$date <- as.Date(paste(raw_totsrA$year, raw_totsrA$month, raw_totsrA$day, sep="."), format="%Y.%m.%d")
a <- subset(raw_totsrA, plot_code = "WAY-01")
b <- subset(raw_totsrA, plot_code = "ESP-01")
c <- subset(raw_totsrA, plot_code = "ACJ-01")
d <- subset(raw_totsrA, plot_code = "PAN-02")
e <- subset(raw_totsrA, plot_code = "PAN-03")
f <- subset(raw_totsrA, plot_code = "SPD-01")
g <- subset(raw_totsrA, plot_code = "SPD-02")
h <- subset(raw_totsrA, plot_code = "TRU-04")
i <- subset(raw_totsrA, plot_code = "TAM-05")
j <- subset(raw_totsrA, plot_code = "TAM-06")
k <- subset(raw_totsrA, plot_code = "TAM-09")
aa <- ggplot(a) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(a$plot_code)
bb <- ggplot(b) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(b$plot_code)
cc <- ggplot(c) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(c$plot_code)
dd <- ggplot(d) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(d$plot_code)
ee <- ggplot(e) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(e$plot_code)
ff <- ggplot(f) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(f$plot_code)
gg <- ggplot(g) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(g$plot_code)
hh <- ggplot(h) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(h$plot_code)
ii <- ggplot(i) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(i$plot_code)
jj <- ggplot(j) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(j$plot_code)
kk <- ggplot(k) + geom_point(aes(x=date, y=co2ref_ppm_sec, colour=factor(year))) + ggtitle(k$plot_code)
fig1 <- grid.arrange(aa, bb, cc, ncol=4, nrow=3) #, dd, ee, ff, gg, hh, ii, jj, kk,
fig1
aa
bb
fig1 <- grid.arrange(aa, bb, ncol=1, nrow=2) #cc, dd, ee, ff, gg, hh, ii, jj, kk,
fig1
fig1 <- grid.arrange(aa, bb, cc, dd, ee, ff, gg, hh, ii, jj, kk, ncol=3, nrow=4)
fig1
dend <- read.table("~/Github/gemcarbon_data/raw_data_ingemdb/stem_npp/santarem_dendro.csv", sep=",", header=T, stringsAsFactors=FALSE) #stringsAsFactors=FALSE
# replace this with read_csv
library(dplyr)
d1 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.1, dend$dendrometer_reading_mm.1, dend$comments.1)
d2 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.2, dend$dendrometer_reading_mm.2, dend$comments.2)
d3 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.3, dend$dendrometer_reading_mm.3, dend$comments.3)
d4 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.4, dend$dendrometer_reading_mm.4, dend$comments.4)
d5 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.5, dend$dendrometer_reading_mm.5, dend$comments.5)
d6 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.6, dend$dendrometer_reading_mm.6, dend$comments.6)
d7 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.7, dend$dendrometer_reading_mm.7, dend$comments.7)
d8 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.8, dend$dendrometer_reading_mm.8, dend$comments.8)
d9 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.9, dend$dendrometer_reading_mm.9, dend$comments.9)
d10 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.10, dend$dendrometer_reading_mm.10, dend$comments.10)
d11 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.11, dend$dendrometer_reading_mm.11, dend$comments.11)
d12 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.12, dend$dendrometer_reading_mm.12, dend$comments.12)
d13 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.13, dend$dendrometer_reading_mm.13, dend$comments.13)
d14 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.14, dend$dendrometer_reading_mm.14, dend$comments.14)
d15 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.15, dend$dendrometer_reading_mm.15, dend$comments.15)
d16 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.16, dend$dendrometer_reading_mm.16, dend$comments.16)
d17 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.17, dend$dendrometer_reading_mm.17, dend$comments.17)
d18 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.18, dend$dendrometer_reading_mm.18, dend$comments.18)
d19 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.19, dend$dendrometer_reading_mm.19, dend$comments.19)
d20 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.20, dend$dendrometer_reading_mm.20, dend$comments.20)
d21 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.21, dend$dendrometer_reading_mm.21, dend$comments.21)
d22 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.22, dend$dendrometer_reading_mm.22, dend$comments.22)
d23 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.23, dend$dendrometer_reading_mm.23, dend$comments.23)
d24 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.24, dend$dendrometer_reading_mm.24, dend$comments.24)
d25 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.25, dend$dendrometer_reading_mm.25, dend$comments.25)
d26 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.26, dend$dendrometer_reading_mm.26, dend$comments.26)
d27 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.27, dend$dendrometer_reading_mm.27, dend$comments.27)
dendstr <- bind_rows(d1, d2)
str(d1)
d1 = bind_cols(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.1, dend$dendrometer_reading_mm.1, dend$comments.1)
dend$plot_code
dend$Tree_code
dend$dbh
dend$date.1
dend$dendrometer_reading_mm.1
dend$comments.1
d1 = bind_cols(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.1, dend$dendrometer_reading_mm.1, dend$comments.1)
str(dend)
library(dplyr)
d1 = bind_cols(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.1, dend$dendrometer_reading_mm.1, dend$comments.1)
d2 = c(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.2, dend$dendrometer_reading_mm.2, dend$comments.2)
head(d2)
d2 = cbind(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.2, dend$dendrometer_reading_mm.2, dend$comments.2)
head(d2)
d1 = bind_cols(dend$plot_code, dend$Tree_code, dend$dbh,  dend$date.1, dend$dendrometer_reading_mm.1, dend$comments.1)
dend$plot_code
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
library(dplyr)
d1 = select(dend, plot_code, Tree_code, dbh, date.1, dendrometer_reading_mm.1, comments.1)
head(d1)
str(d1)
d1 = select(dend, plot_code, Tree_code, dbh, date.1, dendrometer_reading_mm.1, comments.1)
d2 = select(dend, plot_code, Tree_code, dbh, date.2, dendrometer_reading_mm.2, comments.2)
d3 = select(dend, plot_code, Tree_code, dbh, date.3, dendrometer_reading_mm.3, comments.3)
d4 = select(dend, plot_code, Tree_code, dbh, date.4, dendrometer_reading_mm.4, comments.4)
d5 = select(dend, plot_code, Tree_code, dbh, date.5, dendrometer_reading_mm.5, comments.5)
d6 = select(dend, plot_code, Tree_code, dbh, date.6, dendrometer_reading_mm.6, comments.6)
d7 = select(dend, plot_code, Tree_code, dbh, date.7, dendrometer_reading_mm.7, comments.7)
d8 = select(dend, plot_code, Tree_code, dbh, date.8, dendrometer_reading_mm.8, comments.8)
d9 = select(dend, plot_code, Tree_code, dbh, date.9, dendrometer_reading_mm.9, comments.9)
d10 = select(dend, plot_code, Tree_code, dbh, date.10, dendrometer_reading_mm.10, comments.10)
d11 = select(dend, plot_code, Tree_code, dbh, date.11, dendrometer_reading_mm.11, comments.11)
d12 = select(dend, plot_code, Tree_code, dbh, date.12, dendrometer_reading_mm.12, comments.12)
d13 = select(dend, plot_code, Tree_code, dbh, date.13, dendrometer_reading_mm.13, comments.13)
d14 = select(dend, plot_code, Tree_code, dbh, date.14, dendrometer_reading_mm.14, comments.14)
d15 = select(dend, plot_code, Tree_code, dbh, date.15, dendrometer_reading_mm.15, comments.15)
d16 = select(dend, plot_code, Tree_code, dbh, date.16, dendrometer_reading_mm.16, comments.16)
d17 = select(dend, plot_code, Tree_code, dbh, date.17, dendrometer_reading_mm.17, comments.17)
d18 = select(dend, plot_code, Tree_code, dbh, date.18, dendrometer_reading_mm.18, comments.18)
d19 = select(dend, plot_code, Tree_code, dbh, date.19, dendrometer_reading_mm.19, comments.19)
d20 = select(dend, plot_code, Tree_code, dbh, date.20, dendrometer_reading_mm.20, comments.20)
d21 = select(dend, plot_code, Tree_code, dbh, date.21, dendrometer_reading_mm.21, comments.21)
d22 = select(dend, plot_code, Tree_code, dbh, date.22, dendrometer_reading_mm.22, comments.22)
d23 = select(dend, plot_code, Tree_code, dbh, date.23, dendrometer_reading_mm.23, comments.23)
d24 = select(dend, plot_code, Tree_code, dbh, date.24, dendrometer_reading_mm.24, comments.24)
d25 = select(dend, plot_code, Tree_code, dbh, date.25, dendrometer_reading_mm.25, comments.25)
d26 = select(dend, plot_code, Tree_code, dbh, date.26, dendrometer_reading_mm.26, comments.26)
d27 = select(dend, plot_code, Tree_code, dbh, date.27, dendrometer_reading_mm.27, comments.27)
dendstr <- bind_rows(d1, d2)
dendstr
str(dendstr)
dendstr <- bind_cols(d1, d2)
str(dendstr)
head(dendstr)
xx <- rbind(d1, d2)
xx <- bind_rows(d1, d2)
head(xx)
d1 = select(dend, plot_code, Tree_code, dbh, date.1 = "date", dendrometer_reading_mm.1 = "dendrometer_reading_mm", comments.1 = "comments")
d1 = select(dend, plot_code, Tree_code, dbh, date.1 = date, dendrometer_reading_mm.1 = dendrometer_reading_mm, comments.1 = comments)
head(d1)
d1 = select(dend, plot_code, Tree_code, dbh, date.1 = date, dendrometer_reading_mm.1 = dendrometer_reading_mm, comments.1 = comments)
head(d1)
d1 = select(dend, plot_code, Tree_code, dbh, date = date.1, dendrometer_reading_mm.1 = dendrometer_reading_mm, comments.1 = comments)
head(d1)
d1 = select(dend, plot_code, Tree_code, dbh, date = date.1, dendrometer_reading_mm = dendrometer_reading_mm.1, comments = comments.1)
head(d1)
d1 = select(dend, plot_code, Tree_code, dbh, date = date.1, dendrometer_reading_mm = dendrometer_reading_mm.1, comments = comments.1)
d2 = select(dend, plot_code, Tree_code, dbh, date = date.2, dendrometer_reading_mm = dendrometer_reading_mm.2, comments = comments.2)
d3 = select(dend, plot_code, Tree_code, dbh, date = date.3, dendrometer_reading_mm = dendrometer_reading_mm.3, comments = comments.3)
d4 = select(dend, plot_code, Tree_code, dbh, date = date.4, dendrometer_reading_mm = dendrometer_reading_mm.4, comments = comments.4)
d5 = select(dend, plot_code, Tree_code, dbh, date = date.5, dendrometer_reading_mm = dendrometer_reading_mm.5, comments = comments.5)
d6 = select(dend, plot_code, Tree_code, dbh, date = date.6, dendrometer_reading_mm = dendrometer_reading_mm.6, comments = comments.6)
d7 = select(dend, plot_code, Tree_code, dbh, date = date.7, dendrometer_reading_mm = dendrometer_reading_mm.7, comments = comments.7)
d8 = select(dend, plot_code, Tree_code, dbh, date = date.8, dendrometer_reading_mm = dendrometer_reading_mm.8, comments = comments.8)
d9 = select(dend, plot_code, Tree_code, dbh, date = date.9, dendrometer_reading_mm = dendrometer_reading_mm.9, comments = comments.9)
d10 = select(dend, plot_code, Tree_code, dbh, date = date.10, dendrometer_reading_mm = dendrometer_reading_mm.10, comments = comments.10)
d11 = select(dend, plot_code, Tree_code, dbh, date = date.11, dendrometer_reading_mm = dendrometer_reading_mm.11, comments = comments.11)
d12 = select(dend, plot_code, Tree_code, dbh, date = date.12, dendrometer_reading_mm = dendrometer_reading_mm.12, comments = comments.12)
d13 = select(dend, plot_code, Tree_code, dbh, date = date.13, dendrometer_reading_mm = dendrometer_reading_mm.13, comments = comments.13)
d14 = select(dend, plot_code, Tree_code, dbh, date = date.14, dendrometer_reading_mm = dendrometer_reading_mm.14, comments = comments.14)
d15 = select(dend, plot_code, Tree_code, dbh, date = date.15, dendrometer_reading_mm = dendrometer_reading_mm.15, comments = comments.15)
d16 = select(dend, plot_code, Tree_code, dbh, date = date.16, dendrometer_reading_mm = dendrometer_reading_mm.16, comments = comments.16)
d17 = select(dend, plot_code, Tree_code, dbh, date = date.17, dendrometer_reading_mm = dendrometer_reading_mm.17, comments = comments.17)
d18 = select(dend, plot_code, Tree_code, dbh, date = date.18, dendrometer_reading_mm = dendrometer_reading_mm.18, comments = comments.18)
d19 = select(dend, plot_code, Tree_code, dbh, date = date.19, dendrometer_reading_mm = dendrometer_reading_mm.19, comments = comments.19)
d20 = select(dend, plot_code, Tree_code, dbh, date = date.20, dendrometer_reading_mm = dendrometer_reading_mm.20, comments = comments.20)
d21 = select(dend, plot_code, Tree_code, dbh, date = date.21, dendrometer_reading_mm = dendrometer_reading_mm.21, comments = comments.21)
d22 = select(dend, plot_code, Tree_code, dbh, date = date.22, dendrometer_reading_mm = dendrometer_reading_mm.22, comments = comments.22)
d23 = select(dend, plot_code, Tree_code, dbh, date = date.23, dendrometer_reading_mm = dendrometer_reading_mm.23, comments = comments.23)
d24 = select(dend, plot_code, Tree_code, dbh, date = date.24, dendrometer_reading_mm = dendrometer_reading_mm.24, comments = comments.24)
d25 = select(dend, plot_code, Tree_code, dbh, date = date.25, dendrometer_reading_mm = dendrometer_reading_mm.25, comments = comments.25)
d26 = select(dend, plot_code, Tree_code, dbh, date = date.26, dendrometer_reading_mm = dendrometer_reading_mm.26, comments = comments.26)
d27 = select(dend, plot_code, Tree_code, dbh, date = date.27, dendrometer_reading_mm = dendrometer_reading_mm.27, comments = comments.27)
xx <- bind_rows(d1, d2)
head(xx)
xx <- bind_rows(d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18, d19, d20, d21, d22, d23, d24, d25, d26, d27)
head(xx)
xx$dendrometer_reading_mm
unique(xx$dendrometer_reading_mm)
head(xx)
write.csv(xx, file="dend_Santarem_15Oct17.csv")
dir()
setwd("~/Github/GEMcarbon.R")
source("~/Github/GEMcarbon.R/flf_2016.R")
data_flf <- read.table("~/Github/gemcarbon_data/raw_data_ingembd/all_flf_26Sep.csv", sep=",", header=T)
setwd("~/Github/GEMcarbon.R")
source("~/Github/GEMcarbon.R/flf_2016.R")
data_flf <- read.table("~/Github/gemcarbon_data/raw_data_ingembd/all_flf_26Sep.csv", sep=",", header=T)
data_flf <- read.csv("all_flf_26Sep.csv", sep=",", header=T)
str(data_flf)
data_flf <- read.csv("all_flf_26Sep.csv", sep=",", header=T, stringsAsFactors=FALSE)
str(data_flf)
setwd("~/Github/GEMcarbon.R")
source("~/Github/GEMcarbon.R/flf_2016.R")
data_flf <- read.csv("all_flf_26Sep.csv", sep=",", header=T, stringsAsFactors=FALSE)
#data_flf <- subset(data_flf, plot_code %in% c("TAM-05"))
w = which((data_flf$day == 0 & data_flf$year == 2005) | (data_flf$day == 0 & data_flf$year == 2006) | (data_flf$day == 0 & data_flf$year == 2007) | (data_flf$day == 0 & data_flf$year == 2008) | (data_flf$day == 0 & data_flf$year == 2009) | (data_flf$day == 0 & data_flf$year == 2010) | (data_flf$day == 0 & data_flf$year == 2011))
data_flf$day[w] = 2
v = which((data_flf$day == 1 & data_flf$year == 2005) | (data_flf$day == 1 & data_flf$year == 2006) | (data_flf$day == 1 & data_flf$year == 2007) | (data_flf$day == 1 & data_flf$year == 2008) | (data_flf$day == 1 & data_flf$year == 2009) | (data_flf$day == 1 & data_flf$year == 2010) | (data_flf$day == 1 & data_flf$year == 2011))
data_flf$day[v] = 16
ts_flf_2017_afr <- flf(subset(data_flf, plot_code %in% c("KOG-02", "KOG-03", "KOG-04", "KOG-05", "KOG-06", "BOB-01", "BOB-02", "BOB-03", "BOB-04", "BOB-05", "BOB-06", "ANK-01", "ANK-02", "ANK-03", "LPG-01", "LPG-02", "IVI-01", "IVI-02")), plotit = F) #, "MNG-03", "MNG-04"
head(ts_flf_2017_afr)
str(ts_flf_2017_afr)
write.csv(ts_flf_2017_afr, "FLF_TEST")
afr <- data.frame(ts_flf_2017_afr)
write.csv(afr, "FLF_TEST")
head(afr)
write.csv(afr, file="ts_flf_2017_afr.csv")
test <- ggplot(afr, aes(year, total)) + geom_point()
test
test <- ggplot(afr, aes(year, totalflf_MgC_ha_month)) + geom_point()
test
setwd("~/Github/GEMcarbon.R")
source("~/Github/GEMcarbon.R/ic_all_16Oct.R")
setwd("~/Github/GEMcarbon.R")
source("~/Github/GEMcarbon.R/ingrowth_cores_Oct17.R")
rawic1 <- read.csv("ic_all_16Oct.csv", sep=",", header=T, stringsAsFactors=FALSE) #stringsAsFactors=FALSE
rawic1$plot_code <- revalue(rawic1$plot_code, c("TRU-4" = "TRU-04", "DC1" = "DAN-04", "DC2" = "DAN-05", "BZ11" = "BLZ-11", "BZ12" = "BLZ-12", "BZ22" = "BLZ-22", "BZ21" = "BLZ-21", "OP" = "OP"))
# clean NA
rawic1[rawic1 == 'NA'] <- NA
write.csv(rawic, file="ic_all_17Oct.csv")
write.csv(rawic1, file="ic_all_17Oct.csv")
setwd("~/Github/GEMcarbon.R")
source("~/Github/GEMcarbon.R/ingrowth_cores_Oct17.R")
rawic1 <- read.csv("ic_all_17Oct.csv", sep=",", header=T, stringsAsFactors=FALSE) #stringsAsFactors=FALSE
head(rawic1)
unique(rawic1$plot_code)
w = which(rawic1$is_stock == "y")
rawic = rawic1[-w,]
